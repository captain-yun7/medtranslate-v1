# 다국어 번역 E2E 테스트 가이드

## 목적
MedTranslate 시스템이 다양한 언어 조합에서 정확하게 번역되는지 검증합니다.

---

## 테스트 준비

### 1. 새 채팅방 생성
```bash
./test-e2e-chat.sh
```

출력된 URL을 복사해서 사용하세요.

---

## 언어별 테스트 시나리오

### 🇻🇳 베트남어 (Vietnamese)

**URL:** `http://localhost:3001/customer/chat/[room_id]?lang=vi`

**테스트 문장:**
1. **인사 및 예약**
   - 입력: `Xin chào, tôi muốn đặt lịch hẹn khám bệnh`
   - 기대 번역: "안녕하세요, 진료 예약하고 싶습니다"

2. **증상 설명**
   - 입력: `Tôi bị đau đầu và sốt cao từ hôm qua`
   - 기대 번역: "어제부터 두통과 고열이 있습니다"

3. **약물 문의**
   - 입력: `Tôi cần thuốc giảm đau`
   - 기대 번역: "진통제가 필요합니다"

---

### 🇯🇵 일본어 (Japanese)

**URL:** `http://localhost:3001/customer/chat/[room_id]?lang=ja`

**테스트 문장:**
1. **인사 및 예약**
   - 입력: `こんにちは、病院を予約したいです`
   - 기대 번역: "안녕하세요, 병원 예약하고 싶어요"

2. **증상 설명**
   - 입력: `頭が痛くて、熱があります`
   - 기대 번역: "머리가 아프고 열이 있습니다"

3. **응급 상황**
   - 입력: `緊急です。すぐに診察が必要です`
   - 기대 번역: "긴급입니다. 즉시 진료가 필요합니다"

---

### 🇨🇳 중국어 (Chinese)

**URL:** `http://localhost:3001/customer/chat/[room_id]?lang=zh`

**테스트 문장:**
1. **인사 및 예약**
   - 입력: `你好，我想预约看病`
   - 기대 번역: "안녕하세요, 진료 예약하고 싶습니다"

2. **증상 설명**
   - 입력: `我头疼，还发烧`
   - 기대 번역: "두통이 있고 열도 납니다"

3. **검사 문의**
   - 입력: `我需要做血液检查吗？`
   - 기대 번역: "혈액 검사를 해야 하나요?"

---

### 🇹🇭 태국어 (Thai)

**URL:** `http://localhost:3001/customer/chat/[room_id]?lang=th`

**테스트 문장:**
1. **인사 및 예약**
   - 입력: `สวัสดีค่ะ ฉันต้องการนัดหมายพบแพทย์`
   - 기대 번역: "안녕하세요, 의사 진료 예약하고 싶습니다"

2. **증상 설명**
   - 입력: `ฉันปวดหัวและมีไข้`
   - 기대 번역: "두통과 발열이 있습니다"

3. **처방 문의**
   - 입력: `ฉันต้องการยาแก้ปวด`
   - 기대 번역: "진통제가 필요합니다"

---

### 🇬🇧 영어 (English)

**URL:** `http://localhost:3001/customer/chat/[room_id]?lang=en`

**테스트 문장:**
1. **인사 및 예약**
   - 입력: `Hello, I would like to schedule an appointment`
   - 기대 번역: "안녕하세요, 예약하고 싶습니다"

2. **증상 설명**
   - 입력: `I have a headache and high fever`
   - 기대 번역: "두통과 고열이 있습니다"

3. **보험 문의**
   - 입력: `Do you accept my health insurance?`
   - 기대 번역: "제 건강 보험을 받나요?"

---

## 상담사 응답 테스트

**Agent URL:** `http://localhost:3001/agent/chat/[room_id]`

### 한국어 → 외국어 번역 테스트

각 언어별로 다음 한국어 문장을 입력하고 번역 확인:

1. **진료 안내**
   - 입력: `네, 도와드리겠습니다. 어떤 증상이 있으신가요?`
   - 베트남어: "Vâng, tôi sẽ giúp bạn. Bạn có triệu chứng gì?"
   - 일본어: "はい、お手伝いします。どのような症状がありますか？"
   - 중국어: "好的，我来帮您。您有什么症状？"
   - 태국어: "ค่ะ ฉันจะช่วยคุณ คุณมีอาการอะไรบ้าง"
   - 영어: "Yes, I'll help you. What symptoms do you have?"

2. **검사 안내**
   - 입력: `혈압과 체온을 측정해 주세요`
   - 각 언어로 정확히 번역되는지 확인

3. **처방 안내**
   - 입력: `진통제를 처방해 드리겠습니다`
   - 각 언어로 정확히 번역되는지 확인

---

## 의료 용어 번역 정확도 테스트

### 중요 의료 용어

| 한국어 | English | 베트남어 | 일본어 | 중국어 | 태국어 |
|--------|---------|----------|--------|--------|--------|
| 진료 | consultation | khám bệnh | 診察 | 看病 | การตรวจ |
| 예약 | appointment | đặt lịch | 予約 | 预约 | นัดหมาย |
| 두통 | headache | đau đầu | 頭痛 | 头痛 | ปวดหัว |
| 발열 | fever | sốt | 発熱 | 发烧 | มีไข้ |
| 진통제 | pain reliever | thuốc giảm đau | 鎮痛剤 | 止痛药 | ยาแก้ปวด |
| 혈압 | blood pressure | huyết áp | 血圧 | 血压 | ความดันโลหิต |
| 처방 | prescription | đơn thuốc | 処方 | 处方 | ใบสั่งยา |

---

## 테스트 체크리스트

### 기능 테스트
- [ ] 베트남어 → 한국어 번역
- [ ] 일본어 → 한국어 번역
- [ ] 중국어 → 한국어 번역
- [ ] 태국어 → 한국어 번역
- [ ] 영어 → 한국어 번역
- [ ] 한국어 → 각 언어 번역

### 품질 테스트
- [ ] 의료 용어가 정확하게 번역됨
- [ ] 문맥이 자연스럽게 유지됨
- [ ] 존댓말/반말이 적절하게 처리됨
- [ ] 특수문자(!, ?, ...)가 올바르게 처리됨

### 성능 테스트
- [ ] 첫 번역: ~1-2초 이내
- [ ] 캐시된 번역: ~0.01초 이내
- [ ] 연속 메시지 처리 정상

### 안정성 테스트
- [ ] 긴 문장(100자 이상) 번역
- [ ] 여러 문장이 포함된 메시지
- [ ] 이모지 포함 메시지
- [ ] 숫자와 날짜 포함 메시지

---

## 버그 리포트 템플릿

문제를 발견하면 다음 형식으로 기록:

```
### 버그 발견

**언어 조합:** 베트남어 → 한국어
**입력 텍스트:** "Tôi bị đau đầu"
**예상 번역:** "두통이 있습니다"
**실제 번역:** "머리가 아픕니다"
**심각도:** 낮음 (의미는 동일하지만 자연스럽지 않음)
```

---

## 테스트 자동화

모든 언어를 한 번에 테스트하려면:

```bash
# 베트남어
./test-e2e-chat.sh
# URL에 ?lang=vi 추가

# 일본어
./test-e2e-chat.sh
# URL에 ?lang=ja 추가

# 중국어
./test-e2e-chat.sh
# URL에 ?lang=zh 추가

# 태국어
./test-e2e-chat.sh
# URL에 ?lang=th 추가

# 영어
./test-e2e-chat.sh
# URL에 ?lang=en 추가
```

---

## 결과 기록

테스트 완료 후 다음을 기록:

- [ ] 모든 언어 조합 테스트 완료
- [ ] 발견된 버그 목록
- [ ] 번역 품질 평가 (1-5점)
- [ ] 개선 제안 사항
- [ ] 추가 테스트 필요 영역

---

**작성일:** 2025-10-28
**테스터:** _______
**테스트 환경:** OpenAI GPT-3.5-turbo
