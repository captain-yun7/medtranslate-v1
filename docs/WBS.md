# MedTranslate WBS (Work Breakdown Structure)

프로젝트 기간: 10주 (70일)
목표: 의료 다국어 실시간 번역 상담 플랫폼 개발

---

## Phase 1: 기반 인프라 구축 (Week 1-2)

### 1.1 개발 환경 세팅
- [x] Git 저장소 초기화 및 첫 커밋
- [x] 프로젝트 디렉토리 구조 생성
- [x] Docker Compose 설정 파일 작성 (docker-compose.dev.yml)
- [x] 개발용 .env 파일 설정 (backend/.env, frontend/.env.local)
- [x] VSCode / IDE 개발 환경 설정
- [x] Git 브랜치 전략 수립 (main, develop, feature/*)

### 1.2 Backend 기반 구축
- [x] FastAPI 프로젝트 초기 설정
- [x] Socket.io 서버 통합
- [x] PostgreSQL 데이터베이스 연결 테스트 (Docker 포트 54321)
- [x] Redis 연결 및 캐싱 테스트 (Docker 포트 63790)
- [x] Alembic 마이그레이션 설정
- [x] 데이터베이스 스키마 마이그레이션 실행
- [x] 로깅 시스템 구축 (Python logging - 기본 설정)
- [x] CORS 정책 검증
- [x] Health check 엔드포인트 테스트 (포트 8001 실행 중)

### 1.3 Frontend 기반 구축
- [x] Next.js 프로젝트 초기 설정
- [x] TypeScript 설정
- [x] Tailwind CSS 설정
- [x] 의존성 패키지 설치 (npm install - 157개 패키지)
- [x] 기본 라우팅 구조 검증 (포트 3001 실행 중)
- [x] 환경 변수 설정 (.env.local - API URL 설정)
- [x] 반응형 레이아웃 기본 틀 작성

### 1.4 데이터베이스 설계
- [x] ERD (Entity Relationship Diagram) 작성
- [x] 채팅방 테이블 스키마 확정 (ChatRoom 테이블 생성)
- [x] 메시지 테이블 스키마 확정 (Message 테이블 생성)
- [x] 상담사 테이블 스키마 설계
- [x] 고객 세션 테이블 스키마 설계
- [x] 인덱스 전략 수립
- [x] 데이터 백업 정책 수립

**산출물:**
- ✅ Docker Compose 실행 가능한 환경 (docker-compose.dev.yml)
- ✅ 데이터베이스 마이그레이션 파일 (Alembic 초기 스키마)
- ✅ 개발 환경 문서 (SETUP_COMPLETE.md)

---

## Phase 2: 번역 엔진 & API 개발 (Week 3-4)

### 2.1 번역 서비스 구현
- [x] Claude API 클라이언트 통합
- [x] 기본 번역 함수 구현
- [x] 번역 품질 테스트 (샘플 의료 문장)
- [x] 에러 핸들링 (API 장애, 타임아웃)
- [x] Retry 로직 구현
- [x] 번역 응답 시간 모니터링
- [x] 대체 번역 엔진 준비 (DeepL, Google Translate)

### 2.2 의료 용어집 구축
- [x] 기본 용어집 데이터 구조 생성 (8개 용어)
- [ ] 의료 용어 1000개 수집 및 검증
  - [ ] 진료 관련 (200개)
  - [ ] 증상 및 질병 (300개)
  - [ ] 검사 및 처치 (200개)
  - [ ] 약물 및 처방 (150개)
  - [ ] 예약 및 행정 (150개)
- [ ] 6개 언어 번역 완료 (ko, en, ja, zh, vi, th)
- [ ] 용어집 JSON 파일 구조화
- [ ] 번역 시 용어집 매칭 로직 구현
- [ ] 용어집 업데이트 프로세스 문서화

### 2.3 캐싱 시스템 구현
- [x] Redis 캐싱 서비스 기본 구현
- [x] 캐시 키 전략 최적화
- [x] 캐시 만료 시간 정책 (번역: 30일, 세션: 24시간)
- [x] 캐시 히트율 모니터링
- [x] 캐시 무효화 전략
- [x] 메모리 사용량 모니터링

### 2.4 REST API 개발
- [x] 채팅방 생성 API (POST /api/chat/rooms)
- [x] 채팅방 목록 조회 API (GET /api/chat/rooms)
- [x] 채팅 히스토리 조회 API (GET /api/chat/rooms/{room_id}/messages)
- [x] 상담사 대기 목록 API (GET /api/agent/waiting-rooms)
- [x] 번역 테스트 API (POST /api/translation/test)
- [x] API 문서 자동 생성 (Swagger)
- [ ] API 인증/권한 구현 (JWT)

### 2.5 Socket.io 이벤트 핸들러
- [x] 기본 이벤트 핸들러 구현
- [ ] 연결/연결해제 로직 안정화
- [ ] 재연결 처리
- [ ] 에러 이벤트 핸들링
- [ ] 이벤트 로깅
- [ ] 부하 테스트 (동시 접속 50명)

**산출물:**
- 번역 API 완성 및 테스트 보고서
- 의료 용어집 1000개 (6개 언어)
- API 문서 (Swagger)

---

## Phase 3: 고객 채팅 UI 개발 (Week 5-6)

### 3.1 채팅 인터페이스 구현
- [x] 기본 채팅 페이지 레이아웃
- [ ] 메시지 입력창 UI
- [ ] 메시지 말풍선 디자인 (발신/수신)
- [ ] 타임스탬프 표시
- [ ] 메시지 전송 애니메이션
- [ ] 자동 스크롤 기능
- [ ] 메시지 로딩 스피너

### 3.2 언어 선택 기능
- [x] 언어 선택 드롭다운
- [ ] 언어 변경 시 재연결 로직
- [ ] 선택한 언어 로컬스토리지 저장
- [ ] 언어별 플레이스홀더 텍스트
- [ ] 언어 아이콘 추가

### 3.3 실시간 기능 구현
- [x] Socket.io 클라이언트 연결
- [x] 메시지 전송/수신
- [x] 타이핑 인디케이터
- [ ] 온라인/오프라인 상태 표시
- [ ] 재연결 UI 피드백
- [ ] 연결 끊김 알림

### 3.4 UX 개선
- [ ] 메시지 전송 실패 재시도
- [ ] 전송 중 상태 표시
- [ ] 읽음 표시 (Read Receipt)
- [ ] 에러 메시지 UI
- [ ] 로딩 상태 처리
- [ ] 빈 상태 UI (메시지 없을 때)

### 3.5 반응형 디자인
- [ ] 모바일 레이아웃 (< 768px)
- [ ] 태블릿 레이아웃 (768px ~ 1024px)
- [ ] 데스크톱 레이아웃 (> 1024px)
- [ ] 다크모드 지원 (선택사항)
- [ ] 접근성 개선 (ARIA)

### 3.6 임베드 위젯
- [ ] iframe 임베드 스크립트 작성
- [ ] 최소화/최대화 토글
- [ ] 알림 배지
- [ ] 커스터마이징 옵션 (색상, 위치)
- [ ] 위젯 설치 가이드 작성

**산출물:**
- 고객용 채팅 UI 완성
- 임베드 위젯 데모
- UI/UX 테스트 보고서

---

## Phase 4: 상담사 콘솔 개발 (Week 7-8)

### 4.1 상담사 대시보드
- [ ] 대기 중인 채팅방 목록
- [ ] 활성 채팅 목록
- [ ] 오늘의 상담 통계
- [ ] 평균 응답 시간
- [ ] 언어별 상담 건수 차트
- [ ] 상담사 상태 변경 (온라인/자리비움/오프라인)

### 4.2 멀티 채팅 관리
- [ ] 채팅방 탭 UI
- [ ] 탭 간 전환 기능
- [ ] 각 탭의 읽지 않은 메시지 카운트
- [ ] 최대 동시 상담 수 제한 (예: 5개)
- [ ] 채팅방 알림음 설정
- [ ] 중요 표시 기능

### 4.3 상담사 채팅 UI
- [ ] 고객 정보 표시 (언어, 입장 시간)
- [ ] 원문/번역문 동시 표시
- [ ] 번역 품질 피드백 버튼
- [ ] 메시지 복사 기능
- [ ] 채팅 종료 버튼
- [ ] 고객에게 전송 전 번역 미리보기

### 4.4 빠른 답변 템플릿
- [ ] 자주 쓰는 답변 템플릿 목록
- [ ] 템플릿 카테고리 분류
  - [ ] 인사말 (5개)
  - [ ] 예약 안내 (10개)
  - [ ] 검사 안내 (10개)
  - [ ] 결제 안내 (5개)
  - [ ] 마무리 인사 (5개)
- [ ] 템플릿 검색 기능
- [ ] 템플릿 추가/수정/삭제
- [ ] 단축키 지원 (예: /예약)

### 4.5 채팅 히스토리
- [ ] 과거 채팅 내역 검색
- [ ] 날짜별 필터
- [ ] 언어별 필터
- [ ] 고객 정보로 검색
- [ ] 대화 내용 검색
- [ ] 채팅 내역 내보내기 (CSV, PDF)

### 4.6 상담사 인증
- [ ] 로그인 페이지
- [ ] JWT 인증 구현
- [ ] 권한 관리 (상담사, 관리자)
- [ ] 세션 관리
- [ ] 로그아웃 기능

**산출물:**
- 상담사 콘솔 UI 완성
- 빠른 답변 템플릿 35개
- 상담사 매뉴얼

---

## Phase 5: 통합 테스트 & 최적화 (Week 9)

### 5.1 기능 테스트
- [ ] 고객-상담사 1:1 채팅 시나리오 테스트
- [ ] 6개 언어 각각 번역 품질 검증
- [ ] 세션 연결/연결해제 테스트
- [ ] 재연결 시나리오 테스트
- [ ] 에러 처리 시나리오 테스트
- [ ] 브라우저 호환성 테스트 (Chrome, Safari, Firefox)
- [ ] 모바일 기기 테스트 (iOS, Android)

### 5.2 부하 테스트
- [ ] 동시 접속 50명 테스트
- [ ] 동시 접속 100명 테스트
- [ ] 동시 번역 요청 처리 성능
- [ ] 메시지 전송 지연 시간 측정
- [ ] 데이터베이스 쿼리 성능 측정
- [ ] Redis 캐시 히트율 측정
- [ ] 메모리 누수 점검

### 5.3 성능 최적화
- [ ] 번역 API 응답 시간 최적화 (목표: < 2초)
- [ ] Socket.io 메시지 전송 지연 최적화 (목표: < 100ms)
- [ ] 데이터베이스 쿼리 최적화
- [ ] 프론트엔드 번들 사이즈 최적화
- [ ] 이미지 최적화 (WebP)
- [ ] 코드 스플리팅 적용
- [ ] Lazy loading 구현

### 5.4 보안 점검
- [ ] SQL Injection 방지 검증
- [ ] XSS 공격 방지 검증
- [ ] CSRF 보호 구현
- [ ] API Rate Limiting
- [ ] 민감 정보 암호화 (채팅 내용)
- [ ] HTTPS 적용
- [ ] 환경 변수 보안 점검

### 5.5 사용성 테스트
- [ ] 실제 상담사 5명 파일럿 테스트
- [ ] 외국인 사용자 5명 테스트
- [ ] 피드백 수집 및 개선사항 도출
- [ ] UI/UX 개선
- [ ] 버그 수정

### 5.6 모니터링 시스템 구축
- [ ] 로그 수집 시스템 (ELK Stack 또는 CloudWatch)
- [ ] 에러 트래킹 (Sentry)
- [ ] 성능 모니터링 (APM)
- [ ] 알림 설정 (Slack, Email)
- [ ] 대시보드 구축

**산출물:**
- 테스트 보고서
- 성능 벤치마크 결과
- 버그 리스트 및 수정 내역

---

## Phase 6: 배포 & 운영 준비 (Week 10)

### 6.1 프로덕션 환경 구축
- [ ] AWS / GCP / Azure 계정 및 프로젝트 설정
- [ ] VPC 및 네트워크 구성
- [ ] EC2 / ECS / Kubernetes 클러스터 설정
- [ ] RDS PostgreSQL 인스턴스 생성
- [ ] ElastiCache Redis 인스턴스 생성
- [ ] S3 버킷 생성 (정적 파일, 백업)
- [ ] CloudFront / CDN 설정

### 6.2 CI/CD 파이프라인
- [ ] GitHub Actions / GitLab CI 설정
- [ ] 자동 테스트 파이프라인
- [ ] 자동 빌드 파이프라인
- [ ] 자동 배포 파이프라인 (develop -> staging -> production)
- [ ] Rollback 전략
- [ ] Blue-Green 배포 또는 Canary 배포

### 6.3 도메인 및 SSL
- [ ] 도메인 구입 (medtranslate.co.kr)
- [ ] DNS 설정
- [ ] SSL 인증서 발급 (Let's Encrypt 또는 ACM)
- [ ] HTTPS 리다이렉션 설정
- [ ] 서브도메인 설정
  - [ ] chat.medtranslate.co.kr (고객)
  - [ ] admin.medtranslate.co.kr (상담사)
  - [ ] api.medtranslate.co.kr (백엔드)

### 6.4 백업 및 복구
- [ ] 데이터베이스 자동 백업 설정 (일 1회)
- [ ] 백업 보관 정책 (30일)
- [ ] 재해 복구 계획 (DR Plan)
- [ ] 백업 복구 테스트

### 6.5 문서화
- [ ] API 문서 최종 업데이트
- [ ] 배포 가이드 작성
- [ ] 운영 매뉴얼 작성
- [ ] 상담사 사용 매뉴얼 작성
- [ ] 고객 FAQ 작성
- [ ] 트러블슈팅 가이드 작성

### 6.6 운영 준비
- [ ] 모니터링 알림 테스트
- [ ] 장애 대응 프로세스 수립
- [ ] 온콜 일정 수립
- [ ] 고객 지원 채널 구축 (이메일, 채팅)
- [ ] SLA (Service Level Agreement) 정의

### 6.7 배포
- [ ] Staging 환경 배포 및 테스트
- [ ] Production 환경 배포
- [ ] 배포 후 모니터링 (24시간)
- [ ] 사용자 초대 및 온보딩
- [ ] 초기 피드백 수집

**산출물:**
- 프로덕션 환경
- CI/CD 파이프라인
- 운영 문서
- 배포 체크리스트

---

## 선택 사항 (추가 개발)

### 파일 첨부 기능
- [ ] 이미지 업로드 (진단서, 처방전)
- [ ] S3 업로드 구현
- [ ] 이미지 섬네일 생성
- [ ] OCR을 통한 텍스트 추출 (선택)

### 음성/영상 통화
- [ ] WebRTC 통합
- [ ] 화상 상담 UI
- [ ] 음성 녹음 및 저장

### AI 상담 봇
- [ ] 간단한 질문 자동 응답
- [ ] FAQ 챗봇
- [ ] 상담사 부재 시 자동 응답

### 분석 대시보드
- [ ] 상담 통계 (일/주/월)
- [ ] 언어별 통계
- [ ] 고객 만족도 설문
- [ ] 상담사 성과 분석

---

## 일정 요약

| Phase | 기간 | 주요 산출물 |
|-------|------|-------------|
| Phase 1 | Week 1-2 | 개발 환경, 인프라 |
| Phase 2 | Week 3-4 | 번역 엔진, API, 용어집 1000개 |
| Phase 3 | Week 5-6 | 고객 채팅 UI |
| Phase 4 | Week 7-8 | 상담사 콘솔 |
| Phase 5 | Week 9 | 테스트 및 최적화 |
| Phase 6 | Week 10 | 배포 및 운영 준비 |

**총 소요 기간: 10주 (70일)**

---

## 진행 상황

**전체 진행률: ~25%**

- ✅ Phase 1.1: 개발 환경 세팅 (100% 완료)
- ✅ Phase 1.2: Backend 기반 구축 (100% 완료)
- ✅ Phase 1.3: Frontend 기반 구축 (100% 완료)
- ✅ Phase 1.4: 데이터베이스 설계 (100% 완료)

**Phase 1 완료 항목:**
- ✅ Git 저장소 및 4개 커밋 완료
- ✅ Backend 서버 실행 중 (http://localhost:8001)
- ✅ Frontend 서버 실행 중 (http://localhost:3001)
- ✅ PostgreSQL + Redis Docker 컨테이너 실행 중
- ✅ 데이터베이스 스키마 마이그레이션 완료 (agents, sessions 테이블 추가)
- ✅ 데이터베이스 인덱스 13개 생성 완료
- ✅ Python 가상환경 및 npm 패키지 설치 완료
- ✅ VSCode 개발 환경 설정 (.vscode, .editorconfig)
- ✅ Git 브랜치 전략 문서화 (docs/GIT_STRATEGY.md)
- ✅ 반응형 레이아웃 컴포넌트 작성 (Header, Footer, Container)
- ✅ ERD 문서 작성 (docs/ERD.md)
- ✅ 데이터베이스 인덱스 및 백업 전략 문서 (docs/DATABASE_STRATEGY.md)

**다음 할 일 (Phase 2):**
1. Anthropic API 키 설정 및 번역 기능 테스트
2. 의료 용어집 확장 (현재 8개 → 목표 1000개)
3. REST API 개발 (채팅방 생성/조회 등)
4. Socket.io 실시간 채팅 동작 테스트
5. 번역 품질 및 성능 테스트

---

## 참고

- 각 체크리스트 항목은 개발 진행에 따라 업데이트
- 우선순위에 따라 일부 항목 순서 변경 가능
- 이슈 및 블로커 발생 시 별도 문서화
